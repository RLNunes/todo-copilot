<div class="nb-card nb-transition">
  <div class="nb-card-body">
    <div class="flex items-center gap-3">
      <!-- Checkbox -->
      <label class="nb-checkbox">
        <input
          type="checkbox"
          [checked]="todo.completed"
          (change)="toggleComplete()"
        />
        <span class="nb-checkbox-checkmark"></span>
      </label>
      
      <!-- Todo content -->
      <div class="flex-1 min-w-0">
        <div *ngIf="!isEditing" class="flex items-center justify-between">
          <span 
            [class.line-through]="todo.completed" 
            [class.nb-text-hint]="todo.completed"
            class="nb-text-basic font-medium break-words cursor-pointer"
            (dblclick)="startEdit()"
          >
            {{ todo.title }}
          </span>
          <div class="flex gap-2 ml-3">
            <button
              class="nb-button nb-transition nb-button-ghost nb-button-small"
              (click)="startEdit()"
              title="Edit todo"
            >
              ‚úèÔ∏è
            </button>
            <button
              class="nb-button nb-transition nb-button-ghost nb-button-small nb-button-danger"
              (click)="deleteTodo()"
              title="Delete todo"
            >
              üóëÔ∏è
            </button>
          </div>
        </div>
        
        <!-- Edit mode -->
        <div *ngIf="isEditing" class="flex gap-2">
          <input
            class="nb-input nb-transition flex-1"
            type="text"
            [(ngModel)]="editTitle"
            (keypress)="onKeyPress($event)"
            autoFocus
          />
          <button
            class="nb-button nb-transition nb-button-small nb-button-success"
            (click)="saveEdit()"
            title="Save"
          >
            ‚úÖ
          </button>
          <button
            class="nb-button nb-transition nb-button-small nb-button-basic"
            (click)="cancelEdit()"
            title="Cancel"
          >
            ‚ùå
          </button>
        </div>
      </div>
    </div>
    
    <!-- Created date -->
    <div class="mt-2 text-xs nb-text-hint">
      Created: {{ todo.createdAt | date:'short' }}
    </div>
  </div>
</div>
